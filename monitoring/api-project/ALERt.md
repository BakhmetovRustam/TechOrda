
# Настройка алертов в Grafana с отправкой уведомлений в Telegram


## 1. Создание Telegram-бота и получение API-ключа и Сhat ID*

1. Перейдите в **Telegram** и найдите бота **BotFather**.
2. Напишите команду `/newbot` и следуйте инструкциям для создания нового бота.
3. После создания бота, **BotFather** предоставит вам API-ключ. Сохраните этот ключ, он понадобится для настройки уведомлений.
4. Создайте новую группу и добавьте туда созданного бота, сделйте его админом
5. Чтобы узнать id чата, добавьте в созданный чат бота @getmyid_bot


## 2. Настройка канала уведомлений в Grafana

1. Перейдите в Alerting → Contact points

2. Нажмите New contact point

3. В поле Name укажите название уведомления

4. В поле Type выберите тип уведомлений — Telegram

5. Включите опцию Disable Resolve Message, чтобы не получать сообщения об устранении проблемы, по которой отправлялись уведомления.

6. Укажите настройки Telegram:

            BOT API Token — токен Telegram-бота.

            Chat ID — id чата в Telegram. 
7. Нажмите **Save** (Сохранить).
8. В Notification policies поставьте по умолчаню отправку в телеграм

## 3. Настройка алерта

Теперь настроим сам алерт:

1. Перейдите в **Dashboard** и создайте или отредактируйте панель.
2. Перейдите в раздел **Alerting** для настройки условий алерта.
3. Установите нужные условия для срабатывания алерта 
5. Нажмите **Save** (Сохранить).

## 5. Проверка и тестирование

Чтобы проверить, что уведомления работают:

1. Измените параметры так, чтобы условие для срабатывания алерта обязательно выполнялось.
2. Проверьте свой чат в Telegram, чтобы убедиться, что сообщение от бота пришло.

